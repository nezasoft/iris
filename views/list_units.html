<?php 
 include("../connection/connect.php");
 include_once("../modules/permissions.php");
 ?>
 				<div class="post d-flex flex-column-fluid" id="kt_post">
							<div id="kt_content_container" class="container-xxl">
								<div class="card">
									<div class="card-header border-0 pt-5">
										<h3 class="card-title align-items-start flex-column">
											<span class="card-label fw-bolder fs-3 mb-1">Housing Units</span>
											<span class="text-muted mt-1 fw-bold fs-7"> Data Report</span>
										</h3>
									</div>
							<table width="100%" border="0">
							<tr>        			
							 <td width="80%">
							 
							 </td>
							   <td width="10%"><div align="right"><strong></strong></div></td>
								<td width="10%">
								<div align="right">
								<div class="input-group input-group-sm mb-5">
								<select name="filter"  class="form-control" style="margin:3px;" aria-describedby="inputGroup-sizing-sm" id="filter">
									<option value="50">Default</option>
									<option value="50">50</option>
									<option value="100">100</option>
									<option value="200">200</option>
							   </select>
							   </div>
							  </td>
							</tr>
						</table>
						<div id="loader"><span class="loader-icon-2"><img width="20" height="20" src="images/loader.gif" />Loading content, please wait...</div>
			<div id="scroll_content" style="min-height:400px;">
			<div id="content_data" style="padding:10px;"></div>
             </div>
			<script>
			$(document).ready(function(){	
			    $("#loader").show();
				getdata(1);
				function getdata(pageno){
				// source of data	
				var myData = 'page=' + pageno;
				 jQuery.ajax({
				 type: "GET", // Post / Get method
				 url: "views/loads/load_unit_data.php", //Where form data is sent on submission
				 dataType:"text", // Data type, HTML, json etc.
				 data:myData, //Form variables
				 success:function(response){
				 $("#content_data").html(response);
			     $("#loader").hide();
                 }
			 });
			}		
			});
						
			//filter change event
			$("#filter").change(function(){
			filter_val = $("#filter").val();
			pageno = 1;
			$("#content_data").hide();
			$("#content_data").empty();
			$("#loader").show();
				// source of data	
				var myData = 'page=' + pageno + '&filter=' + filter_val;
				 jQuery.ajax({
				 type: "GET", // Post / Get method
				 url: "views/loads/load_unit_data.php", //Where form data is sent on submission
				 dataType:"text", // Data type, HTML, json etc.
				 data:myData, //Form variables
				 success:function(response){
				 $("#content_data").html(response);
			     $("#loader").hide();
				 $("#content_data").fadeIn();
                 }
				});
			});	
</script>
						
								
			
								<!--end::Card-->
							</div>
							<!--end::Container-->
						</div>
						
    <div class="modal fade" id="ModalContentAddNew" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered mw-650px">
	  <div class="modal-content">
	  <span id="loader_add_new_content"><img width="30" height="30" src="images/loader.gif" />Loading...</span>
	  <div id="modal_add_new_content"></div>
	  </div>
	  </div>
	  </div>
    <div class="modal fade" id="ModalContentView" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-xl">
	  <div class="modal-content">
	  <span id="loader_view_content"><img width="30" height="30" src="images/loader.gif" />Loading...</span>
	  <div id="modal_view_content"></div>
	  </div>
	  </div>
	  </div> 	  
	   <script>
	  $(document).ready(function(){
	  $("#loader_add_new").hide();
	  $("#loader_view_content").hide();
	  });
	  function addNew(){
	   $("#loader_add_new_content").show();
	   $("#modal_add_new_content").load("views/add_unit.html",function(responseTxt, statusTxt, jqXHR){
	   if(statusTxt == "success"){$("#loader_add_new_content").hide();}
		 if(statusTxt == "error"){alert("Error: " + jqXHR.status + " " + jqXHR.statusText);}
		 });
	  }
	    function viewUnit(unit){
	   $("#loader_view_content").show();
	   $("#modal_view_content").load("views/view_unit.html?unit_id="+unit+"",function(responseTxt, statusTxt, jqXHR){
	   if(statusTxt == "success"){$("#loader_view_content").hide();}
		 if(statusTxt == "error"){alert("Error: " + jqXHR.status + " " + jqXHR.statusText);}
		 });
	  }
   </script>
  	
    